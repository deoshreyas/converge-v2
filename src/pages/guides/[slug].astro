---
import Layout from "../../layouts/layout.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const guides = await getCollection('guides');
  return guides.map((guide) => ({
    params: { slug: guide.slug },
    props: { guide },
  }));
}

const { guide } = Astro.props;
const { Content } = await guide.render();
---

<Layout title={guide.data.title}>
  <main class="max-w-4xl mx-auto py-16 px-4">
    <div class="mb-12 text-center">
      <h1 class="font-folsom text-5xl md:text-6xl mb-3 text-gray-900 leading-tight">{guide.data.title}</h1>
      <h2 class="font-folsom text-2xl md:text-3xl mb-2 text-yellow-400 leading-snug">by @{guide.data.author}</h2>
      <div class="mt-6 h-1 w-24 bg-yellow-400 mx-auto rounded-full"></div>
    </div>

    <article class="prose prose-lg max-w-none">
      <Content />
    </article>

    <div class="mt-16 text-center">
      <a href="/" class="inline-block bg-yellow-400 hover:bg-yellow-300 text-black font-bold text-lg px-8 py-3 rounded-full shadow-lg transform hover:scale-105 transition-all duration-200">â† Back to Converge</a>
    </div>
  </main>
</Layout>